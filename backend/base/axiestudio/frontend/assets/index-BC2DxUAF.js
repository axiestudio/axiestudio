import{r as a,u as x,j as e,T as u,$ as b,b as j,d as N,e as v,I as y,f as g,l as k,k as w,a as $}from"./index-jZLvl1ko.js";function E(){const[s,i]=a.useState(""),[r,n]=a.useState(!1),[f,d]=a.useState(!1),h=x(t=>t.setSuccessData),o=x(t=>t.setErrorData),p=async t=>{var c,m;if(t.preventDefault(),!s.trim()){o({title:"E-post Kr√§vs",list:["V√§nligen ange din e-postadress"]});return}n(!0);try{await $.post("/api/v1/email/forgot-password",{email:s.trim()}),d(!0),h({title:"Om du √§ger den e-postadressen kommer du att f√• ett tillf√§lligt l√∂senord."})}catch(l){o({title:"Fel",list:[((m=(c=l==null?void 0:l.response)==null?void 0:c.data)==null?void 0:m.detail)||"Misslyckades att skicka tillf√§lligt l√∂senord. V√§nligen f√∂rs√∂k igen."]})}finally{n(!1)}};return f?e.jsx("div",{className:"h-screen w-full",children:e.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-gradient-to-br from-background to-muted/30",children:e.jsxs("div",{className:"flex w-96 flex-col items-center justify-center gap-6 rounded-2xl bg-card/80 backdrop-blur-sm border border-border/50 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[e.jsx("div",{className:"h-12 w-12 bg-green-500 text-white rounded-xl flex items-center justify-center",children:"‚úì"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-foreground tracking-tight",children:"Kontrollera Din E-post"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Om du √§ger den e-postadressen kommer du att f√• ett tillf√§lligt l√∂senord"})]})]}),e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["üìß ",e.jsx("strong",{children:"Kontrollera din e-post"})," f√∂r ditt tillf√§lliga l√∂senord",e.jsx("br",{}),"üîë ",e.jsx("strong",{children:"Logga in"})," med ditt anv√§ndarnamn och det tillf√§lliga l√∂senordet",e.jsx("br",{}),"‚öôÔ∏è ",e.jsx("strong",{children:"Du kommer att uppmanas"})," att skapa ett nytt l√∂senord efter inloggning"]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fick du inte e-posten?"," ",e.jsx("button",{onClick:()=>{d(!1),i("")},className:"text-primary hover:underline font-medium",children:"F√∂rs√∂k igen"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:e.jsx(u,{to:"/login",className:"text-primary hover:underline font-medium",children:"Tillbaka till inloggning"})})]})]})]})})}):e.jsx(b,{onSubmit:p,className:"h-screen w-full",children:e.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-gradient-to-br from-background to-muted/30",children:e.jsxs("div",{className:"flex w-96 flex-col items-center justify-center gap-6 rounded-2xl bg-card/80 backdrop-blur-sm border border-border/50 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:"/logo192.png",alt:"Axie Studio logo",className:"h-12 w-12 rounded-xl object-contain",onError:t=>{t.currentTarget.style.display="none",t.currentTarget.nextElementSibling.style.display="flex"}}),e.jsx("div",{className:"h-12 w-12 bg-primary text-primary-foreground rounded-xl items-center justify-center font-bold text-lg hidden",children:"AS"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-light text-foreground tracking-tight",children:"Gl√∂mt L√∂senord?"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ange din e-post s√• skickar vi dig ett tillf√§lligt l√∂senord"})]})]}),e.jsxs("div",{className:"w-full space-y-5",children:[e.jsxs(j,{name:"email",children:[e.jsx(N,{className:"text-sm font-medium text-foreground data-[invalid]:text-destructive",children:"E-postadress"}),e.jsx(v,{asChild:!0,children:e.jsx(y,{type:"email",value:s,onChange:t=>i(t.target.value),className:"w-full h-11 mt-2 border-border/60 focus:border-primary/60 focus:ring-1 focus:ring-primary/20",required:!0,placeholder:"Ange din e-postadress",disabled:r})}),e.jsx(g,{match:"valueMissing",className:"text-xs text-destructive mt-1",children:"V√§nligen ange din e-postadress"}),e.jsx(g,{match:"typeMismatch",className:"text-xs text-destructive mt-1",children:"V√§nligen ange en giltig e-postadress"})]}),e.jsx(k,{asChild:!0,children:e.jsx(w,{className:"w-full h-11 mt-8 bg-primary hover:bg-primary/90 text-primary-foreground font-medium",type:"submit",disabled:r,children:r?"Skickar...":"Skicka Tillf√§lligt L√∂senord"})}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Kommer du ih√•g ditt l√∂senord?"," ",e.jsx(u,{to:"/login",className:"text-primary hover:underline font-medium",children:"Tillbaka till inloggning"})]})})]})]})})})}export{E as default};
