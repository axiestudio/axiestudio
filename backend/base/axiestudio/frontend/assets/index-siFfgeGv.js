import{r as o,K as f,A as h,L as N,u as j,M as _,j as s,I as r,k as w,N as A}from"./index-jZLvl1ko.js";function k(){const[c,l]=o.useState(f),{login:a}=o.useContext(h),i=N(),{password:u,username:d}=c,g=j(t=>t.setErrorData);function n({target:{name:t,value:e}}){l(x=>({...x,[t]:e}))}const{mutate:m}=_();function p(){m({username:d,password:u},{onSuccess:e=>{e.password_change_required?(a(e.access_token,"login",e.refresh_token),i("/change-password?from_reset=true")):a(e.access_token,"login",e.refresh_token)},onError:e=>{g({title:A,list:[e.response.data.detail]})}})}return s.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-muted",children:s.jsxs("div",{className:"flex w-72 flex-col items-center justify-center gap-2",children:[s.jsx("img",{src:"/logo192.png",alt:"Axie Studio logo",className:"h-10 w-10 scale-[1.5] rounded object-contain"}),s.jsx("span",{className:"mb-6 text-2xl font-semibold text-primary",children:"Admin"}),s.jsx(r,{onChange:({target:{value:t}})=>{n({target:{name:"username",value:t}})},className:"bg-background",placeholder:"Användarnamn"}),s.jsx(r,{type:"password",onChange:({target:{value:t}})=>{n({target:{name:"password",value:t}})},className:"bg-background",placeholder:"Lösenord"}),s.jsx(w,{onClick:()=>{p()},variant:"default",className:"w-full",children:"Login"})]})})}export{k as default};
